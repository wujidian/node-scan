{"version":3,"sources":["webpack:///src/pages/personalCenter/forgetPassword.vue","webpack:///./src/pages/personalCenter/forgetPassword.vue?f5e8","webpack:///./src/pages/personalCenter/forgetPassword.vue"],"names":["forgetPassword","name","data","_this","this","resetForm","loginName","isNext","nextForm","password","comfirPassword","userOneDialog","userOneForm","verifyCode","verifyCode2","resetRules","required","message","trigger","validator","rule","value","callback","match","test","Error","min","max","RegExp","$refs","validateField","validate","FormValidate","Form","checkCode","isAliyun","verifyId","verifyForm","verifys","label","verifyType","disabled","methods","next","formName","_this2","valid","forgotPassword","reset","_this3","resetCode","_this4","push","length","$api","checkCaptcha","action","stringify_default","then","res","messages","catch","err","$message","error","type","_this5","parames","undefined","extends_default","passportId","password1","sign","ret","$router","path","code","JSON","parse","Object","comm","setTimeout","getCode","el","_this6","resetFields","personalCenter_forgetPassword","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","span","src","width","_v","directives","rawName","expression","ref","model","rules","nativeOn","submit","$event","preventDefault","prop","placeholder","keyup","indexOf","_k","keyCode","key","$$v","$set","slot","on","click","to","visible","close-on-click-modal","update:visible","staticStyle","margin","_s","maxlength","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.5712f5ac201b4add375d.js","sourcesContent":["<template>\n  <div class=\"userOperate\" id=\"userOperate\">\n    <el-row class=\"userAction resetPass\">\n      <el-col :span=\"12\" class=\"center\">\n        <img src=\"/static/image/loignImg.png\" width=\"408\" />\n      </el-col>\n      <el-col :span=\"12\" class=\"userActionItem\">\n        <p class=\"center userActionTitle\">重置密码</p>\n        <el-form\n          :model=\"resetForm\"\n          :rules=\"resetRules\"\n          ref=\"resetForm\"\n          v-show=\"!isNext\"\n          @submit.native.prevent\n          :disabled=\"disabled\"\n        >\n          <el-form-item prop=\"loginName\">\n            <el-input\n              v-model=\"resetForm.loginName\"\n              placeholder=\"手机号/邮箱\"\n              @keyup.enter.native=\"next('resetForm')\"\n            >\n              <img src=\"/static/image/login_icon_user.png\" slot=\"prefix\" />\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"operateBtn\">\n            <button\n              type=\"button\"\n              class=\"roundBtn\"\n              @click=\"next('resetForm')\"\n              :disabled=\"disabled\"\n            >下一步</button>\n          </el-form-item>\n          <div class=\"center\">\n            <router-link class=\"textBtn\" to=\"/login\">去登录</router-link>\n          </div>\n        </el-form>\n        <el-form\n          :model=\"nextForm\"\n          :rules=\"resetRules\"\n          ref=\"nextForm\"\n          v-show=\"isNext\"\n          @submit.native.prevent\n          :disabled=\"disabled\"\n        >\n          <el-form-item prop=\"password\">\n            <el-input type=\"password\" v-model=\"nextForm.password\" placeholder=\"新密码\">\n              <img src=\"/static/image/login_icon_psw.png\" slot=\"prefix\" />\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"comfirPassword\">\n            <el-input\n              type=\"password\"\n              v-model=\"nextForm.comfirPassword\"\n              placeholder=\"确认密码\"\n              @keyup.enter.native=\"reset('nextForm')\"\n            >\n              <img src=\"/static/image/login_icon_psw.png\" slot=\"prefix\" />\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"operateBtn\">\n            <button\n              type=\"button\"\n              class=\"roundBtn\"\n              @click=\"reset('nextForm')\"\n              :disabled=\"disabled\"\n            >确认重置</button>\n          </el-form-item>\n          <div class=\"center\">\n            <router-link class=\"textBtn\" to=\"/login\">去登录</router-link>\n          </div>\n        </el-form>\n      </el-col>\n    </el-row>\n    <el-dialog\n      :visible.sync=\"userOneDialog\"\n      width=\"450px\"\n      :close-on-click-modal=\"false\"\n      class=\"dialogTitle\"\n    >\n      <div slot=\"title\" class=\"header-title\">\n        <span class=\"title-age\">验证码验证</span>\n      </div>\n      <el-form\n        :model=\"userOneForm\"\n        ref=\"userOneForm\"\n        :rules=\"resetRules\"\n        style=\"width:80%;margin:0 auto\"\n        @submit.native.prevent\n        :disabled=\"disabled\"\n      >\n        <el-form-item class=\"center\">\n          <span>验证码发送至{{verifys[0].label}},注意查收</span>\n        </el-form-item>\n        <el-form-item prop=\"verifyCode\">\n          <el-input\n            v-model=\"userOneForm.verifyCode\"\n            placeholder=\"验证码\"\n            @keyup.enter.native=\"resetCode('userOneForm')\"\n            maxlength=\"6\"\n          >\n            <img src=\"/static/image/login_icon_code.png\" slot=\"prefix\" />\n            <button\n              type=\"button\"\n              id=\"getCode\"\n              class=\"roundBtn rimBtn getCodeBtn\"\n              :disabled=\"disabled\"\n              @click=\"getCode('getCode',verifys[0].verifyType)\"\n              slot=\"suffix\"\n            >获取验证码</button>\n          </el-input>\n        </el-form-item>\n        <el-form-item class=\"center\" v-if=\"verifys.length>1\">\n          <span>验证码发送至{{verifys[1].label}},注意查收</span>\n        </el-form-item>\n        <el-form-item prop=\"verifyCode\" v-if=\"verifys.length>1\">\n          <el-input\n            v-model=\"userOneForm.verifyCode2\"\n            placeholder=\"验证码\"\n            @keyup.enter.native=\"resetCode('userOneForm')\"\n            maxlength=\"6\"\n          >\n            <img src=\"/static/image/login_icon_code.png\" slot=\"prefix\" />\n            <button\n              type=\"button\"\n              id=\"getCode2\"\n              class=\"roundBtn rimBtn getCodeBtn\"\n              @click=\"getCode('getCode2',verifys[1].verifyType)\"\n              slot=\"suffix\"\n            >获取验证码</button>\n          </el-input>\n        </el-form-item>\n        <el-form-item class=\"center operateBtn\">\n          <button type=\"button\" @click=\"resetCode('userOneForm')\" class=\"roundBtn\">确定</button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n    <el-dialog\n      :visible.sync=\"isAliyun\"\n      width=\"350px\"\n      :close-on-click-modal=\"false\"\n      class=\"dialogTitle\"\n    >\n      <div slot=\"title\" class=\"header-title\">\n        <span class=\"title-age\">人机验证</span>\n      </div>\n      <div id=\"captcha\"></div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport validate from \"@/utils/validate\";\nimport { codeMsg } from \"@/utils/comm.js\";\nimport { aliyunVerify } from \"@/utils/comm\";\nexport default {\n  name: \"login\",\n  data() {\n    // 手机号邮箱验证\n    var checkUser = (rule, value, callback) => {\n      if (value.match(/@/) != null) {\n        var reg = /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/;\n        if (!reg.test(value)) {\n          callback(new Error(\"请输入正确的邮箱地址\"));\n        } else {\n          callback();\n        }\n      } else {\n        var reg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/;\n        if (!reg.test(value)) {\n          callback(new Error(\"请输入正确的手机号\"));\n        } else {\n          callback();\n        }\n      }\n    };\n    // 密码验证\n    var validatePass = (rule, value, callback) => {\n      var reg = new RegExp(/^(?![^a-zA-Z]+$)(?!\\D+$)/);\n      if (!reg.test(value)) {\n        callback(new Error(\"请输入6-20位带数字和字母的登录密码\"));\n      } else {\n        if (this.nextForm.comfirPassword !== \"\") {\n          this.$refs.nextForm.validateField(\"comfirPassword\");\n        }\n        callback();\n      }\n    };\n    // 确认密码验证\n    var validatePass2 = (rule, value, callback) => {\n      if (value !== this.nextForm.password) {\n        callback(new Error(\"密码不一致\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      resetForm: {\n        loginName: \"\"\n      },\n      isNext: false,\n      nextForm: {\n        password: \"\",\n        comfirPassword: \"\"\n      },\n      userOneDialog: false,\n      userOneForm: {\n        verifyCode: \"\",\n        verifyCode2: \"\"\n      },\n      resetRules: {\n        loginName: [\n          {\n            required: true,\n            message: \"请输入用户名/邮箱\",\n            trigger: \"blur\"\n          },\n          { validator: checkUser, trigger: \"blur\" }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\"\n          },\n          {\n            min: 6,\n            max: 20,\n            message: \"请输入6-20位包含数字和字母的密码\",\n            trigger: \"blur\"\n          },\n          { validator: validatePass, trigger: \"blur\" }\n        ],\n        comfirPassword: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\"\n          },\n          {\n            min: 6,\n            max: 20,\n            message: \"请输入6-20位包含数字和字母的密码\",\n            trigger: \"blur\"\n          },\n          { validator: validatePass2, trigger: \"blur\" }\n        ],\n        verifyCode: [\n          {\n            required: true,\n            message: \"请输入验证码\",\n            trigger: \"blur\"\n          },\n          {\n            min: 6,\n            max: 6,\n            message: \"请输入6位数字的验证码\",\n            trigger: \"blur\"\n          },\n          { validator: validate.FormValidate.Form().checkCode, trigger: \"blur\" }\n        ]\n      },\n      isAliyun: false,\n      verifyId: \"\",\n      verifyForm: \"\",\n      verifys: [\n        { label: \"\", verifyType: \"\" },\n        { label: \"\", verifyType: \"\" }\n      ],\n      disabled: false\n    };\n  },\n  methods: {\n    // 下一步\n    next(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.disabled = true;\n          this.forgotPassword();\n        } else {\n          return false;\n        }\n      });\n    },\n    // 重置密码\n    reset(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.disabled = true;\n          this.forgotPassword(\"reset\");\n        } else {\n          return false;\n        }\n      });\n    },\n    // 验证码\n    resetCode(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          var verifyCode = [];\n          verifyCode.push({\n            verifyType: this.verifys[0].verifyType,\n            verifyCode: this.userOneForm.verifyCode\n          });\n          if (this.verifys.length > 1) {\n            verifyCode.push({\n              verifyType: this.verifys[1].verifyType,\n              verifyCode: this.userOneForm.verifyCode2\n            });\n          }\n          this.$api\n            .checkCaptcha({\n              action: \"verify\",\n              verifyCode: JSON.stringify(verifyCode),\n              verifyType: \"user_all\",\n              verifyId: this.verifyId\n            })\n            .then(res => {\n              this.verifyForm = res.messages.data;\n              this.forgotPassword(\"resetCode\");\n            })\n            .catch(err => {\n              this.$message.error(err.messages.error.message);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 重置密码\n    forgotPassword(type) {\n      var parames = \"\";\n      if (type == undefined) {\n        //账号验证\n        parames = {\n          action: \"validateLoginName\",\n          loginName: this.resetForm.loginName\n        };\n      } else if (type == \"aliyun\") {\n        //人机验证\n        parames = {\n          action: \"validateLoginName\",\n          loginName: this.resetForm.loginName,\n          ...this.verifyForm\n        };\n      } else if (type == \"reset\") {\n        //重置密码\n        parames = {\n          passportId: this.passportId,\n          password: this.nextForm.password,\n          password1: this.nextForm.comfirPassword,\n          sign: \"168node\"\n        };\n      } else if (type == \"resetCode\") {\n        parames = {\n          passportId: this.passportId,\n          password: this.nextForm.password,\n          password1: this.nextForm.comfirPassword,\n          ...this.verifyForm\n        };\n      }\n      this.$api\n        .forgotPassword(parames)\n        .then(res => {\n          this.disabled = false;\n          if (\n            res.messages.data.ret == true &&\n            res.messages.data.ret != undefined\n          ) {\n            this.$message(\"密码重置成功\");\n            this.$router.push({ path: \"/login\" });\n          }\n          this.isNext = true;\n          this.passportId = res.messages.data.passportId;\n        })\n        .catch(err => {\n          this.disabled = false;\n          if (err.messages.error.code == \"verify_required\") {\n            var data = JSON.parse(err.messages.error.message)[0];\n            // 人机验证ID\n            this.verifyId = data.verifyId;\n            if (data.verifyType == \"anti_robot\") {\n              this.isAliyun = true;\n              aliyunVerify(this.verifyId, res => {\n                this.isAliyun = false;\n                this.verifyForm = res.messages.data;\n                this.forgotPassword(\"aliyun\");\n              });\n            }\n            if (data.verifyType == \"user_all\") {\n              // 发送验证码信息\n              this.verifys = data.verifys;\n              this.userOneDialog = true;\n              setTimeout(() => {\n                codeMsg(\"getCode\");\n                if (this.verifys.length > 1) {\n                  codeMsg(\"getCode2\");\n                }\n              }, 500);\n            }\n          } else {\n            this.$message.error(err.messages.error.message);\n          }\n        });\n    },\n    // 获取验证码\n    getCode(el, verifyType) {\n      var parames = \"\";\n      if (verifyType == \"user_email\") {\n        parames = {\n          action: \"refresh\",\n          type: verifyType,\n          verifyId: this.verifyId\n        };\n      } else {\n        parames = {\n          action: \"refresh\",\n          type: verifyType,\n          verifyId: this.verifyId,\n          sign: \"168node\"\n        };\n      }\n      this.$api.checkCaptcha(parames).then(res => {\n        codeMsg(el);\n        this.verifyForm = res.messages.data;\n      });\n    },\n\n    // 表单重置\n    resetFields(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};\n</script>\n<style scoped>\n.resetPass .el-form {\n  height: 200px;\n}\n.password {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.password:hover {\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personalCenter/forgetPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userOperate\",attrs:{\"id\":\"userOperate\"}},[_c('el-row',{staticClass:\"userAction resetPass\"},[_c('el-col',{staticClass:\"center\",attrs:{\"span\":12}},[_c('img',{attrs:{\"src\":\"/static/image/loignImg.png\",\"width\":\"408\"}})]),_vm._v(\" \"),_c('el-col',{staticClass:\"userActionItem\",attrs:{\"span\":12}},[_c('p',{staticClass:\"center userActionTitle\"},[_vm._v(\"重置密码\")]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNext),expression:\"!isNext\"}],ref:\"resetForm\",attrs:{\"model\":_vm.resetForm,\"rules\":_vm.resetRules,\"disabled\":_vm.disabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"loginName\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号/邮箱\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.next('resetForm')}},model:{value:(_vm.resetForm.loginName),callback:function ($$v) {_vm.$set(_vm.resetForm, \"loginName\", $$v)},expression:\"resetForm.loginName\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_user.png\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"operateBtn\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.next('resetForm')}}},[_vm._v(\"下一步\")])]),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('router-link',{staticClass:\"textBtn\",attrs:{\"to\":\"/login\"}},[_vm._v(\"去登录\")])],1)],1),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNext),expression:\"isNext\"}],ref:\"nextForm\",attrs:{\"model\":_vm.nextForm,\"rules\":_vm.resetRules,\"disabled\":_vm.disabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"新密码\"},model:{value:(_vm.nextForm.password),callback:function ($$v) {_vm.$set(_vm.nextForm, \"password\", $$v)},expression:\"nextForm.password\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_psw.png\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"comfirPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reset('nextForm')}},model:{value:(_vm.nextForm.comfirPassword),callback:function ($$v) {_vm.$set(_vm.nextForm, \"comfirPassword\", $$v)},expression:\"nextForm.comfirPassword\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_psw.png\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"operateBtn\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.reset('nextForm')}}},[_vm._v(\"确认重置\")])]),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('router-link',{staticClass:\"textBtn\",attrs:{\"to\":\"/login\"}},[_vm._v(\"去登录\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.userOneDialog,\"width\":\"450px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.userOneDialog=$event}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(\"验证码验证\")])]),_vm._v(\" \"),_c('el-form',{ref:\"userOneForm\",staticStyle:{\"width\":\"80%\",\"margin\":\"0 auto\"},attrs:{\"model\":_vm.userOneForm,\"rules\":_vm.resetRules,\"disabled\":_vm.disabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticClass:\"center\"},[_c('span',[_vm._v(\"验证码发送至\"+_vm._s(_vm.verifys[0].label)+\",注意查收\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"verifyCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\",\"maxlength\":\"6\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.resetCode('userOneForm')}},model:{value:(_vm.userOneForm.verifyCode),callback:function ($$v) {_vm.$set(_vm.userOneForm, \"verifyCode\", $$v)},expression:\"userOneForm.verifyCode\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_code.png\"},slot:\"prefix\"}),_vm._v(\" \"),_c('button',{staticClass:\"roundBtn rimBtn getCodeBtn\",attrs:{\"slot\":\"suffix\",\"type\":\"button\",\"id\":\"getCode\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.getCode('getCode',_vm.verifys[0].verifyType)}},slot:\"suffix\"},[_vm._v(\"获取验证码\")])])],1),_vm._v(\" \"),(_vm.verifys.length>1)?_c('el-form-item',{staticClass:\"center\"},[_c('span',[_vm._v(\"验证码发送至\"+_vm._s(_vm.verifys[1].label)+\",注意查收\")])]):_vm._e(),_vm._v(\" \"),(_vm.verifys.length>1)?_c('el-form-item',{attrs:{\"prop\":\"verifyCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\",\"maxlength\":\"6\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.resetCode('userOneForm')}},model:{value:(_vm.userOneForm.verifyCode2),callback:function ($$v) {_vm.$set(_vm.userOneForm, \"verifyCode2\", $$v)},expression:\"userOneForm.verifyCode2\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_code.png\"},slot:\"prefix\"}),_vm._v(\" \"),_c('button',{staticClass:\"roundBtn rimBtn getCodeBtn\",attrs:{\"slot\":\"suffix\",\"type\":\"button\",\"id\":\"getCode2\"},on:{\"click\":function($event){return _vm.getCode('getCode2',_vm.verifys[1].verifyType)}},slot:\"suffix\"},[_vm._v(\"获取验证码\")])])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{staticClass:\"center operateBtn\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.resetCode('userOneForm')}}},[_vm._v(\"确定\")])])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.isAliyun,\"width\":\"350px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAliyun=$event}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(\"人机验证\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"captcha\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5df430f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personalCenter/forgetPassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5df430f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./forgetPassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forgetPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forgetPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5df430f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./forgetPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5df430f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personalCenter/forgetPassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}